schema: '2.0'
stages:
  prepare_gpr:
    cmd: python src/prepare_gpr.py data/df_high.csv data/prepared/
    deps:
    - path: data/df_high.csv
      hash: md5
      md5: 74ad022e4d07c9eb89759ec040a8a31a
      size: 47413
    - path: src/prepare_gpr.py
      hash: md5
      md5: d4726c70c5b78611ab6620df2866d29c
      size: 1476
    outs:
    - path: data/prepared/gpr_test_data.pt
      hash: md5
      md5: be67866582c8b6cddbb0d8045678a7f9
      size: 40764
    - path: data/prepared/gpr_train_data.pt
      hash: md5
      md5: 7675317c4132b08d7ed8a887b691ebeb
      size: 44034
  train_gpr:
    cmd: python src/train_gpr.py data/prepared/gpr_train_data.pt models/model_state_gpr.pth
    deps:
    - path: data/prepared/gpr_train_data.pt
      hash: md5
      md5: 7675317c4132b08d7ed8a887b691ebeb
      size: 44034
    - path: src/train_gpr.py
      hash: md5
      md5: cda74dfff54c73045bcda60da4e4d6ad
      size: 2697
    params:
      params.yaml:
        train_gpr:
          lr: 0.26
          training_iter: 100
    outs:
    - path: models/model_state_gpr.pth
      hash: md5
      md5: 954b0a149e1c382c1ce5e45eee5daa0e
      size: 4584
  evaluate_gpr:
    cmd: python src/evaluate_gpr.py models/model_state_gpr.pth data/prepared/gpr_test_data.pt
      eval/gpr/
    deps:
    - path: data/prepared/gpr_test_data.pt
      hash: md5
      md5: be67866582c8b6cddbb0d8045678a7f9
      size: 40764
    - path: models/model_state_gpr.pth
      hash: md5
      md5: 954b0a149e1c382c1ce5e45eee5daa0e
      size: 4584
    - path: src/evaluate_gpr.py
      hash: md5
      md5: 99ba657e4cc3f909228a32372ebcd81b
      size: 3199
  prepare_base_gpr:
    cmd: python src/prepare_base_gpr.py data/df_high.csv data/prepared/
    deps:
    - path: data/df_high.csv
      hash: md5
      md5: 74ad022e4d07c9eb89759ec040a8a31a
      size: 47413
    - path: src/prepare_base_gpr.py
      hash: md5
      md5: 115ab37fac2c2d434071742267cec347
      size: 1833
    outs:
    - path: data/prepared/base_gpr_test_data.pt
      hash: md5
      md5: 24401487b40b53b234746beefc4dd1a2
      size: 40794
    - path: data/prepared/base_gpr_train_data.pt
      hash: md5
      md5: 52bca2fabd3ade60250279a9b76db9fa
      size: 44064
  train_base_gpr:
    cmd: python src/train_gpr.py data/prepared/base_gpr_train_data.pt models/model_state_base_gpr.pth
    deps:
    - path: data/prepared/base_gpr_train_data.pt
      hash: md5
      md5: 52bca2fabd3ade60250279a9b76db9fa
      size: 44064
    - path: src/train_gpr.py
      hash: md5
      md5: cda74dfff54c73045bcda60da4e4d6ad
      size: 2697
    params:
      params.yaml:
        train_base_gpr:
          lr: 1
          training_iter: 100
    outs:
    - path: models/model_state_base_gpr.pth
      hash: md5
      md5: 8fa918806bfe6a73d2435b0bcf455e31
      size: 4654
  evaluate_base_gpr:
    cmd: python src/evaluate_gpr.py models/model_state_base_gpr.pth data/prepared/base_gpr_test_data.pt
      eval/base_gpr
    deps:
    - path: data/prepared/base_gpr_test_data.pt
      hash: md5
      md5: 24401487b40b53b234746beefc4dd1a2
      size: 40794
    - path: models/model_state_base_gpr.pth
      hash: md5
      md5: 8fa918806bfe6a73d2435b0bcf455e31
      size: 4654
    - path: src/evaluate_gpr.py
      hash: md5
      md5: 99ba657e4cc3f909228a32372ebcd81b
      size: 3199
  prepare_ratio_gpr:
    cmd: python src/prepare_ratio_gpr.py data/df_high.csv data/prepared/
    deps:
    - path: data/df_high.csv
      hash: md5
      md5: 74ad022e4d07c9eb89759ec040a8a31a
      size: 47413
    - path: src/prepare_ratio_gpr.py
      hash: md5
      md5: c87ac6380dca215d5220a42bf3fe5aee
      size: 2564
    outs:
    - path: data/prepared/ratio_gpr_scaler.pkl
      hash: md5
      md5: 3104c9deb84a130320e4ace01e97caea
      size: 1175
    - path: data/prepared/ratio_gpr_test_data.pt
      hash: md5
      md5: 8777358553cea775f99430cc02a33fec
      size: 40800
    - path: data/prepared/ratio_gpr_train_data.pt
      hash: md5
      md5: c32df654ee982783bab09893190fa7b2
      size: 44134
  train_ratio_gpr:
    cmd: python src/train_gpr.py data/prepared/ratio_gpr_train_data.pt  models/model_state_ratio_gpr.pth
    deps:
    - path: data/prepared/ratio_gpr_train_data.pt
      hash: md5
      md5: c32df654ee982783bab09893190fa7b2
      size: 44134
    - path: src/train_gpr.py
      hash: md5
      md5: cda74dfff54c73045bcda60da4e4d6ad
      size: 2697
    params:
      params.yaml:
        train_ratio_gpr:
          lr: 3
          training_iter: 100
    outs:
    - path: models/model_state_ratio_gpr.pth
      hash: md5
      md5: ea841eab8102694cc6a5ba4e5597e1a8
      size: 4668
  evaluate_ratio_gpr:
    cmd: python src/evaluate_gpr.py models/model_state_ratio_gpr.pth data/prepared/ratio_gpr_test_data.pt
      eval/ratio_gpr
    deps:
    - path: data/prepared/ratio_gpr_test_data.pt
      hash: md5
      md5: 8777358553cea775f99430cc02a33fec
      size: 40800
    - path: models/model_state_ratio_gpr.pth
      hash: md5
      md5: ea841eab8102694cc6a5ba4e5597e1a8
      size: 4668
    - path: src/evaluate_gpr.py
      hash: md5
      md5: 99ba657e4cc3f909228a32372ebcd81b
      size: 3199
